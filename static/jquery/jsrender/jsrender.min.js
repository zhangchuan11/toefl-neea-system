/*! JsRender v0.9.84 (Beta): http://jsviews.com/#jsrender */ ;
/*! **VERSION FOR WEB** (For NODE.JS see http://jsviews.com/download/jsrender-node.js) */
(function(a, b) {
    var c = b.jQuery;
    if (typeof exports === "object") {
        module.exports = c ? a(b, c) : function(d) {
            if (d && !d.fn) {
                throw "Provide jQuery or null"
            }
            return a(b, d)
        }
    } else {
        if (typeof define === "function" && define.amd) {
            define(function() {
                return a(b)
            })
        } else {
            a(b, false)
        }
    }
}(function(G, aG) {
    var aQ = aG === false;
    aG = aG && aG.fn ? aG : G.jQuery;
    var k = "v0.9.84",
        aJ, j, aU, Z, m, ap, d, at, s, aT, N, aM, aH, ar, l, t, aA, az, Y, X, aF, ax, aK, B = /^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,
        ae = /(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,
        ak, aL = /[ \t]*(\r\n|\n|\r)/g,
        F = /\\(['"])/g,
        aW = /['"\\]/g,
        aw = /(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,
        ah = /^if\s/,
        L = /<(\w+)[>\s]/,
        aO = /[\x00`><"'&=]/g,
        Q = /[\x00`><\"'&=]/,
        p = /^on[A-Z]|^convert(Back)?$/,
        ai = /^\#\d+_`[\s\S]*\/\d+_`$/,
        aa = aO,
        z = 0,
        f = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            "\x00": "&#0;",
            "'": "&#39;",
            '"': "&#34;",
            "`": "&#96;",
            "=": "&#61;"
        },
        T = "html",
        O = "object",
        ac = "data-jsv-tmpl",
        aD = "jsvTmpl",
        aX = "For #index in nested block use #getIndex().",
        i = {},
        W = G.jsrender,
        am = W && aG && !aG.render,
        ao = {
            template: {
                compile: D
            },
            tag: {
                compile: c
            },
            viewModel: {
                compile: ag
            },
            helper: {},
            converter: {}
        };
    m = {
        jsviews: k,
        sub: {
            View: aS,
            Err: ab,
            tmplFn: y,
            parse: ad,
            extend: A,
            extendCtx: au,
            syntaxErr: S,
            onStore: {
                template: function(aY, aZ) {
                    if (aZ === null) {
                        delete i[aY]
                    } else {
                        i[aY] = aZ
                    }
                }
            },
            addSetting: M,
            settings: {
                allowCode: false
            },
            advSet: aC,
            _ths: x,
            _gm: aN,
            _tg: function() {},
            _cnvt: a,
            _tag: al,
            _er: av,
            _err: ay,
            _html: V,
            _cp: aB,
            _sq: function(aY) {
                if (aY === "constructor") {
                    S("")
                }
                return aY
            }
        },
        settings: {
            delimiters: R,
            advanced: function(aY) {
                return aY ? (A(l, aY), aH.advSet(), t) : l
            }
        },
        getCtx: aB,
        map: H
    };

    function aj(aY, aZ) {
        return function() {
            var a2, a0 = this,
                a1 = a0.base;
            a0.base = aY;
            a2 = aZ.apply(a0, arguments);
            a0.base = a1;
            return a2
        }
    }

    function aN(aY, aZ) {
        if (d(aZ)) {
            aZ = aj(!aY ? aC : aY._d ? aY : aj(aC, aY), aZ);
            aZ._d = 1
        }
        return aZ
    }

    function x(aY, aZ) {
        for (var a0 in aZ.props) {
            if (p.test(a0)) {
                aY[a0] = aN(aY.constructor.prototype[a0], aZ.props[a0])
            }
        }
    }

    function aB(aY) {
        return aY
    }

    function aC() {
        return ""
    }

    function J(aZ) {
        try {
            console.log("JsRender dbg breakpoint: " + aZ);
            throw "dbg breakpoint"
        } catch (aY) {}
        return this.base ? this.baseApply(arguments) : aZ
    }

    function ab(aY) {
        this.name = (aG.link ? "JsViews" : "JsRender") + " Error";
        this.message = aY || this.name
    }

    function A(a0, aZ) {
        for (var aY in aZ) {
            a0[aY] = aZ[aY]
        }
        return a0
    }(ab.prototype = new Error()).constructor = ab;

    function R(aY, a0, aZ) {
        if (!aY) {
            return ar.delimiters
        }
        if (at(aY)) {
            return R.apply(m, aY)
        }
        ar.delimiters = [aY, a0, aF = aZ ? aZ.charAt(0) : aF];
        aA = aY.charAt(0);
        az = aY.charAt(1);
        Y = a0.charAt(0);
        X = a0.charAt(1);
        aY = "\\" + aA + "(\\" + aF + ")?\\" + az;
        a0 = "\\" + Y + "\\" + X;
        j = "(?:(\\w+(?=[\\/\\s\\" + Y + "]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\" + Y + "]|\\" + Y + "(?!\\" + X + "))*?)";
        aH.rTag = "(?:" + j + ")";
        j = new RegExp("(?:" + aY + j + "(\\/)?|\\" + aA + "(\\" + aF + ")?\\" + az + "(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))" + a0, "g");
        aH.rTmpl = new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|" + aY + ".*" + a0);
        return t
    }

    function af(a2, a4) {
        if (!a4 && a2 !== true) {
            a4 = a2;
            a2 = undefined
        }
        var a1, a3, a0, a5, aZ = this,
            aY = !a4 || a4 === "root";
        if (a2) {
            a5 = a4 && aZ.type === a4 && aZ;
            if (!a5) {
                a1 = aZ.views;
                if (aZ._.useKey) {
                    for (a3 in a1) {
                        if (a5 = a4 ? a1[a3].get(a2, a4) : a1[a3]) {
                            break
                        }
                    }
                } else {
                    for (a3 = 0, a0 = a1.length; !a5 && a3 < a0; a3++) {
                        a5 = a4 ? a1[a3].get(a2, a4) : a1[a3]
                    }
                }
            }
        } else {
            if (aY) {
                while (aZ.parent) {
                    a5 = aZ;
                    aZ = aZ.parent
                }
            } else {
                while (aZ && !a5) {
                    a5 = aZ.type === a4 ? aZ : undefined;
                    aZ = aZ.parent
                }
            }
        }
        return a5
    }

    function q() {
        var aY = this.get("item");
        return aY ? aY.index : undefined
    }
    q.depends = function() {
        return [this.get("item"), "index"]
    };

    function v() {
        return this.index
    }
    v.depends = "index";

    function E(a1, a2) {
        var aZ, a3, aY = this,
            a0 = aY.ctx;
        if (a0) {
            a0 = a0[a1]
        }
        if (a0 === undefined) {
            a0 = N[a1]
        }
        if (a0 && a0._cp) {
            if (a2) {
                a3 = a0[1] ? aH._ceo(a0[1].deps) : ["_jsvCp"];
                a3.unshift(a0[0]);
                a3._cp = a0._cp;
                return a3
            }
            a0 = m.getCtx(a0)
        }
        if (a0) {
            if (d(a0) && !a0._wrp) {
                aZ = function() {
                    return a0.apply((!this || this === G) ? aY : this, arguments)
                };
                aZ._wrp = aY;
                A(aZ, a0)
            }
        }
        return aZ || a0
    }

    function aP(aY) {
        return aY && (aY.fn ? aY : this.getRsc("templates", aY) || s(aY))
    }

    function a(a3, a0, a2, a4) {
        var aZ, a5, a1 = typeof a2 === "number" && a0.tmpl.bnds[a2 - 1],
            aY = a0.linkCtx;
        if (a4 === undefined && a1 && a1._lr) {
            a4 = ""
        }
        if (a4 !== undefined) {
            a2 = a4 = {
                props: {},
                args: [a4]
            }
        } else {
            if (a1) {
                a2 = a1(a0.data, a0, aH)
            }
        }
        a1 = a1._bd && a1;
        a5 = a2.args[0];
        if (a3 || a1) {
            aZ = aY && aY.tag;
            if (!aZ) {
                aZ = A(new aH._tg(), {
                    _: {
                        inline: !aY,
                        bnd: a1,
                        unlinked: true
                    },
                    tagName: ":",
                    cvt: a3,
                    flow: true,
                    tagCtx: a2
                });
                if (aY) {
                    aY.tag = aZ;
                    aZ.linkCtx = aY
                }
                a2.ctx = au(a2.ctx, (aY ? aY.view : a0).ctx)
            }
            aZ._er = a4 && a5;
            x(aZ, a2);
            a2.view = a0;
            aZ.ctx = a2.ctx || aZ.ctx || {};
            a2.ctx = undefined;
            a5 = aZ.cvtArgs(a3 !== "true" && a3)[0]
        }
        a5 = a1 && a0._.onRender ? a0._.onRender(a5, a0, aZ) : a5;
        return a5 != undefined ? a5 : ""
    }

    function r(aZ, a1) {
        var a0, a3, a5, a6 = this,
            aY = a6.tagCtx,
            a2 = aY.args,
            a4 = a6.bindTo;
        aZ = aZ || a6.convert;
        if ("" + aZ === aZ) {
            aZ = aY.view.getRsc("converters", aZ) || av("Unknown converter: '" + aZ + "'")
        }
        if (!a2.length && a6.argDefault !== false && !aY.index) {
            a2 = [aY.view.data]
        } else {
            if (aZ && !a1) {
                a2 = a2.slice()
            }
        }
        if (a4) {
            a5 = [];
            a0 = a4.length;
            while (a0--) {
                a3 = a4[a0];
                a5.unshift(g(aY, a3))
            }
            if (a1) {
                a2 = a5
            }
        }
        if (aZ) {
            a4 = a4 || [0];
            aZ = aZ.apply(a6, a5 || a2);
            a0 = a4.length;
            if (a0 < 2) {
                aZ = [aZ]
            }
            if (a1) {
                a2 = aZ
            } else {
                while (a0--) {
                    a3 = a4[a0];
                    if (+a3 === a3) {
                        a2[a3] = aZ ? aZ[a0] : undefined
                    }
                }
            }
        }
        return a2
    }

    function g(aZ, aY) {
        aZ = aZ[+aY === aY ? "args" : "props"];
        return aZ && aZ[aY]
    }

    function n() {
        return this.cvtArgs(undefined, true)
    }

    function an(a1, a2) {
        var a0, aZ, aY = this;
        while ((a0 === undefined) && aY) {
            aZ = aY.tmpl && aY.tmpl[a1];
            a0 = aZ && aZ[a2];
            aY = aY.parent
        }
        return a0 || m[a1][a2]
    }

    function aI(a0, a1, aZ) {
        var aY = this;
        aY.ctx[a1] = aH._cp(g(aY, a0), g(aY.params, a0), aY.view, aZ)
    }

    function al(a2, bi, a1, bu, be, a4) {
        bi = bi || Z;
        var bp, bl, bh, aZ, bd, a3, bk, bt, bs, br, bc, bj, a9, by, bq, a0, bw, bm, bg, bn, bb, a8, aY, ba, a5, bv = 0,
            bf = "",
            a7 = bi.linkCtx || 0,
            a6 = bi.ctx,
            bx = a1 || bi.tmpl,
            bo = typeof bu === "number" && bi.tmpl.bnds[bu - 1];
        if (a2._is === "tag") {
            bp = a2;
            a2 = bp.tagName;
            bu = bp.tagCtxs;
            aZ = bp.template
        } else {
            bh = bi.getRsc("tags", a2) || av("Unknown tag: {{" + a2 + "}} ");
            aZ = bh.template
        }
        if (a4 === undefined && bo && bo._lr) {
            a4 = ""
        }
        if (a4 !== undefined) {
            bf += a4;
            bu = a4 = [{
                props: {},
                args: []
            }]
        } else {
            if (bo) {
                bu = bo(bi.data, bi, aH)
            }
        }
        bt = bu.length;
        for (; bv < bt; bv++) {
            bj = bu[bv];
            if (!a7 || !a7.tag || bv && !a7.tag._.inline || bp._er) {
                if (a0 = bx.tmpls && bj.tmpl) {
                    a0 = bj.content = bx.tmpls[a0 - 1]
                }
                bj.index = bv;
                bj.tmpl = a0;
                bj.render = u;
                bj.ctxPrm = aI;
                bj.view = bi;
                bj.ctx = au(bj.ctx, a6)
            }
            if (a1 = bj.props.tmpl) {
                bj.tmpl = bi.getTmpl(a1)
            }
            if (!bp) {
                bp = new bh._ctr();
                bw = !!bp.init;
                bp.parent = bk = a6 && a6.tag;
                bp.tagCtxs = bu;
                aY = bp.dataMap;
                if (a7) {
                    bp._.inline = false;
                    a7.tag = bp;
                    bp.linkCtx = a7
                }
                if (bp._.bnd = bo || a7.fn) {
                    bp._.arrVws = {}
                } else {
                    if (bp.dataBoundOnly) {
                        av("{^{" + a2 + "}} tag must be data-bound")
                    }
                }
            }
            bq = bp.bindTo || [0];
            bu = bp.tagCtxs;
            aY = bp.dataMap;
            bj.tag = bp;
            if (aY && bu) {
                bj.map = bu[bv].map
            }
            if (!bp.flow) {
                a9 = bj.ctx = bj.ctx || {};
                bd = bp.parents = a9.parentTags = a6 && au(a9.parentTags, a6.parentTags) || {};
                if (bk) {
                    bd[bk.tagName] = bk
                }
                bd[bp.tagName] = a9.tag = bp
            }
        }
        if (!(bp._er = a4)) {
            x(bp, bu[0]);
            bp.rendering = {};
            for (bv = 0; bv < bt; bv++) {
                bj = bp.tagCtx = bu[bv];
                bb = bj.props;
                bn = bp.cvtArgs();
                if (bp.linkedCtxParam) {
                    bs = bq.length;
                    while (bs--) {
                        if (by = bp.linkedCtxParam[bs]) {
                            a5 = bq[bs];
                            bj.ctxPrm(a5, by, {
                                tag: bp,
                                ind: bs
                            })
                        }
                    }
                }
                if (bm = bb.dataMap || aY) {
                    if (bn.length || bb.dataMap) {
                        bg = bj.map;
                        if (!bg || bg.src !== bn[0] || be) {
                            if (bg && bg.src) {
                                bg.unmap()
                            }
                            bg = bj.map = bm.map(bn[0], bb, undefined, !bp._.bnd)
                        }
                        bn = [bg.tgt]
                    }
                }
                bp.ctx = bj.ctx;
                if (!bv) {
                    if (bw) {
                        a8 = bp.template;
                        bp.init(bj, a7, bp.ctx);
                        bw = undefined
                    }
                    if (a7) {
                        a7.attr = bp.attr = a7.attr || bp.attr
                    }
                    a3 = bp.attr;
                    bp._.noVws = a3 && a3 !== T
                }
                bc = undefined;
                if (bp.render) {
                    bc = bp.render.apply(bp, bn);
                    if (bi.linked && bc && bp.linkedElem && !ai.test(bc)) {
                        bc = aq(aG.templates(bc), bn[0], undefined, undefined, bi, undefined, undefined, bp)
                    }
                }
                if (!bn.length) {
                    bn = [bi]
                }
                if (bc === undefined) {
                    ba = bn[0];
                    if (bp.contentCtx) {
                        ba = bp.contentCtx === true ? bi : bp.contentCtx(ba)
                    }
                    bc = bj.render(ba, true) || (be ? undefined : "")
                }
                bf = bf ? bf + (bc || "") : bc
            }
            bp.rendering = undefined
        }
        bp.tagCtx = bu[0];
        bp.ctx = bp.tagCtx.ctx;
        if (bp._.noVws) {
            if (bp._.inline) {
                bf = a3 === "text" ? aT.html(bf) : ""
            }
        }
        return bo && bi._.onRender ? bi._.onRender(bf, bi, bp) : bf
    }

    function aS(aY, a3, a9, aZ, a4, a5, bb, a8) {
        var a6, a2, ba, a1, a7 = this,
            a0 = a3 === "array";
        a7.content = a8;
        a7.views = a0 ? [] : {};
        a7.parent = a9;
        a7.type = a3 || "top";
        a7.data = aZ;
        a7.tmpl = a4;
        a1 = a7._ = {
            key: 0,
            useKey: a0 ? 0 : 1,
            id: "" + z++,
            onRender: bb,
            bnds: {}
        };
        a7.linked = !!bb;
        if (a9) {
            a6 = a9.views;
            a2 = a9._;
            if (a2.useKey) {
                a6[a1.key = "_" + a2.useKey++] = a7;
                a7.index = aX;
                a7.getIndex = q
            } else {
                if (a6.length === (a1.key = a7.index = a5)) {
                    a6.push(a7)
                } else {
                    a6.splice(a5, 0, a7)
                }
            }
            a7.ctx = aY || a9.ctx
        } else {
            a7.ctx = aY
        }
    }
    aS.prototype = {
        get: af,
        getIndex: v,
        getRsc: an,
        getTmpl: aP,
        hlp: E,
        _is: "view"
    };

    function e(a0) {
        var aZ, aY, a1;
        for (aZ in ao) {
            aY = aZ + "s";
            if (a0[aY]) {
                a1 = a0[aY];
                a0[aY] = {};
                m[aY](a1, a0)
            }
        }
    }

    function c(a1, a5, ba) {
        var a7, a6, a0, a4, a8, aZ, a9 = a5.bindTo,
            a3 = new aH._tg();

        function aY() {
            var bb = this;
            bb._ = {
                inline: true,
                unlinked: true
            };
            bb.tagName = a1
        }

        function a2(bb) {
            var bc;
            if (bc = a5[bb]) {
                a5[bb] = bc = at(bc) ? bc : [bc];
                if ((aZ || 1) !== bc.length) {
                    av(bb + " length not same as bindTo ")
                }
            }
        }
        if (d(a5)) {
            a5 = {
                depends: a5.depends,
                render: a5
            }
        } else {
            if ("" + a5 === a5) {
                a5 = {
                    template: a5
                }
            }
        }
        if (a9 !== undefined) {
            a9 = a5.bindTo = at(a9) ? a9 : [a9];
            a4 = aZ = a9.length;
            while (a4--) {
                a8 = a9[a4];
                if (!isNaN(parseInt(a8))) {
                    a8 = parseInt(a8)
                }
                a9[a4] = a8
            }
        }
        a2("linkedElement");
        a2("linkedCtxParam");
        if (a6 = a5.baseTag) {
            a5.flow = !!a5.flow;
            a5.baseTag = a6 = "" + a6 === a6 ? (ba && ba.tags[a6] || aM[a6]) : a6;
            a3 = A(a3, a6);
            for (a0 in a5) {
                a3[a0] = aN(a6[a0], a5[a0])
            }
        } else {
            a3 = A(a3, a5)
        }
        if ((a7 = a3.template) !== undefined) {
            a3.template = "" + a7 === a7 ? (s[a7] || s(a7)) : a7
        }(aY.prototype = a3).constructor = a3._ctr = aY;
        if (ba) {
            a3._parentTmpl = ba
        }
        return a3
    }

    function U(aY) {
        return this.base.apply(this, aY)
    }

    function D(a0, aY, a5, aZ) {
        function a1(a8) {
            var a6, a7;
            if (("" + a8 === a8) || a8.nodeType > 0 && (a4 = a8)) {
                if (!a4) {
                    if (/^\.\/[^\\:*?"<>]*$/.test(a8)) {
                        if (a7 = s[a0 = a0 || a8]) {
                            a8 = a7
                        } else {
                            a4 = document.getElementById(a8)
                        }
                    } else {
                        if (aG.fn && !aH.rTmpl.test(a8)) {
                            try {
                                a4 = aG(a8, document)[0]
                            } catch (a9) {}
                        }
                    }
                }
                if (a4) {
                    if (aZ) {
                        a8 = a4.innerHTML
                    } else {
                        a6 = a4.getAttribute(ac);
                        if (a6) {
                            if (a6 !== aD) {
                                a8 = s[a6];
                                delete s[a6]
                            } else {
                                if (aG.fn) {
                                    a8 = aG.data(a4)[aD]
                                }
                            }
                        }
                        if (!a6 || !a8) {
                            a0 = a0 || (aG.fn ? aD : a8);
                            a8 = D(a0, a4.innerHTML, a5, aZ)
                        }
                        a8.tmplName = a0 = a0 || a6;
                        if (a0 !== aD) {
                            s[a0] = a8
                        }
                        a4.setAttribute(ac, a0);
                        if (aG.fn) {
                            aG.data(a4, aD, a8)
                        }
                    }
                }
                a4 = undefined
            } else {
                if (!a8.fn) {
                    a8 = undefined
                }
            }
            return a8
        }
        var a4, a2, a3 = aY = aY || "";
        if (aZ === 0) {
            aZ = undefined;
            a3 = a1(a3)
        }
        aZ = aZ || (aY.markup ? aY : {});
        aZ.tmplName = a0;
        if (a5) {
            aZ._parentTmpl = a5
        }
        if (!a3 && aY.markup && (a3 = a1(aY.markup))) {
            if (a3.fn) {
                a3 = a3.markup
            }
        }
        if (a3 !== undefined) {
            if (a3.fn || aY.fn) {
                if (a3.fn) {
                    a2 = a3
                }
            } else {
                aY = C(a3, aZ);
                y(a3.replace(aW, "\\$&"), aY)
            }
            if (!a2) {
                a2 = A(function() {
                    return a2.render.apply(a2, arguments)
                }, aY);
                e(a2)
            }
            return a2
        }
    }

    function b(aZ, aY) {
        return aG.isFunction(aZ) ? aZ.call(aY) : aZ
    }

    function I(a0) {
        var aY = [],
            a1 = 0,
            aZ = a0.length;
        for (; a1 < aZ; a1++) {
            aY.push(a0[a1].unmap())
        }
        return aY
    }

    function ag(bh, a0) {
        var ba, bd, a3 = this,
            bb = a0.getters,
            be = a0.extend,
            a7 = a0.id,
            a6 = aG.extend({
                _is: bh || "unnamed",
                unmap: a5,
                merge: a1
            }, be),
            aY = "",
            a4 = "",
            bc = bb ? bb.length : 0,
            a8 = aG.observable,
            aZ = {};

        function a9(bi) {
            bd.apply(this, bi)
        }

        function bf() {
            return new a9(arguments)
        }

        function a2(bm, bl) {
            var bk, bo, bn, bi, bj = 0;
            for (; bj < bc; bj++) {
                bn = bb[bj];
                bk = undefined;
                if (bn + "" !== bn) {
                    bk = bn;
                    bn = bk.getter
                }
                if ((bi = bm[bn]) === undefined && bk && (bo = bk.defaultVal) !== undefined) {
                    bi = b(bo, bm)
                }
                bl(bi, bk && a3[bk.type], bn)
            }
        }

        function bg(bm) {
            bm = bm + "" === bm ? JSON.parse(bm) : bm;
            var bj, bn, bl = 0,
                bk = bm,
                bi = [];
            if (at(bm)) {
                bm = bm || [];
                bj = bm.length;
                for (; bl < bj; bl++) {
                    bi.push(this.map(bm[bl]))
                }
                bi._is = bh;
                bi.unmap = a5;
                bi.merge = a1;
                return bi
            }
            if (bm) {
                a2(bm, function(bo, bp) {
                    if (bp) {
                        bo = bp.map(bo)
                    }
                    bi.push(bo)
                });
                bk = this.apply(this, bi);
                for (bn in bm) {
                    if (bn !== ap && !aZ[bn]) {
                        bk[bn] = bm[bn]
                    }
                }
            }
            return bk
        }

        function a1(bp) {
            bp = bp + "" === bp ? JSON.parse(bp) : bp;
            var bo, bl, bk, bi, bs, bt, br, bj, bn, bm = 0,
                bq = this;
            if (at(bq)) {
                br = {};
                bn = [];
                bl = bp.length;
                bk = bq.length;
                for (; bm < bl; bm++) {
                    bj = bp[bm];
                    bt = false;
                    for (bo = 0; bo < bk && !bt; bo++) {
                        if (br[bo]) {
                            continue
                        }
                        bs = bq[bo];
                        if (a7) {
                            br[bo] = bt = a7 + "" === a7 ? (bj[a7] && (aZ[a7] ? bs[a7]() : bs[a7]) === bj[a7]) : a7(bs, bj)
                        }
                    }
                    if (bt) {
                        bs.merge(bj);
                        bn.push(bs)
                    } else {
                        bn.push(bf.map(bj))
                    }
                }
                if (a8) {
                    a8(bq).refresh(bn, true)
                } else {
                    bq.splice.apply(bq, [0, bq.length].concat(bn))
                }
                return
            }
            a2(bp, function(bv, bw, bu) {
                if (bw) {
                    bq[bu]().merge(bv)
                } else {
                    bq[bu](bv)
                }
            });
            for (bi in bp) {
                if (bi !== ap && !aZ[bi]) {
                    bq[bi] = bp[bi]
                }
            }
        }

        function a5() {
            var bk, bo, bn, bi, bm, bj = 0,
                bl = this;
            if (at(bl)) {
                return I(bl)
            }
            bk = {};
            for (; bj < bc; bj++) {
                bo = bb[bj];
                bn = undefined;
                if (bo + "" !== bo) {
                    bn = bo;
                    bo = bn.getter
                }
                bm = bl[bo]();
                bk[bo] = bn && bm && a3[bn.type] ? at(bm) ? I(bm) : bm.unmap() : bm
            }
            for (bo in bl) {
                if (bo !== "_is" && !aZ[bo] && bo !== ap && (bo.charAt(0) !== "_" || !aZ[bo.slice(1)]) && !aG.isFunction(bl[bo])) {
                    bk[bo] = bl[bo]
                }
            }
            return bk
        }
        a9.prototype = a6;
        for (ba = 0; ba < bc; ba++) {
            (function(bi) {
                bi = bi.getter || bi;
                aZ[bi] = ba + 1;
                var bj = "_" + bi;
                aY += (aY ? "," : "") + bi;
                a4 += "this." + bj + " = " + bi + ";\n";
                a6[bi] = a6[bi] || function(bk) {
                    if (!arguments.length) {
                        return this[bj]
                    }
                    if (a8) {
                        a8(this).setProperty(bi, bk)
                    } else {
                        this[bj] = bk
                    }
                };
                if (a8) {
                    a6[bi].set = a6[bi].set || function(bk) {
                        this[bj] = bk
                    }
                }
            })(bb[ba])
        }
        bd = new Function(aY, a4.slice(0, -1));
        bd.prototype = a6;
        a6.constructor = bd;
        bf.map = bg;
        bf.getters = bb;
        bf.extend = be;
        bf.id = a7;
        return bf
    }

    function C(a1, a2) {
        var aY, aZ = l._wm || {},
            a0 = A({
                tmpls: [],
                links: {},
                bnds: [],
                _is: "template",
                render: u
            }, a2);
        a0.markup = a1;
        if (!a2.htmlTag) {
            aY = L.exec(a1);
            a0.htmlTag = aY ? aY[1].toLowerCase() : ""
        }
        aY = aZ[a0.htmlTag];
        if (aY && aY !== aZ.div) {
            a0.markup = aG.trim(a0.markup)
        }
        return a0
    }

    function w(a0, aZ) {
        function a1(a2, a5, a9) {
            var a8, a7, a6, a3, a4 = aH.onStore[a0];
            if (a2 && typeof a2 === O && !a2.nodeType && !a2.markup && !a2.getTgt && !(a0 === "viewModel" && a2.getters || a2.extend)) {
                for (a7 in a2) {
                    a1(a7, a2[a7], a5)
                }
                return a5 || m
            }
            if (a5 === undefined) {
                a5 = a2;
                a2 = undefined
            }
            if (a2 && "" + a2 !== a2) {
                a9 = a5;
                a5 = a2;
                a2 = undefined
            }
            a6 = a9 ? a0 === "viewModel" ? a9 : (a9[aY] = a9[aY] || {}) : a1;
            a8 = aZ.compile;
            if (a5 === null) {
                if (a2) {
                    delete a6[a2]
                }
            } else {
                if (a8) {
                    a5 = a8.call(a6, a2, a5, a9, 0);
                    a5._is = a0
                }
                if (a2) {
                    a6[a2] = a5
                }
            }
            if (a4) {
                a4(a2, a5, a9, a8)
            }
            return a5
        }
        var aY = a0 + "s";
        m[aY] = a1
    }

    function M(aY) {
        t[aY] = function(aZ) {
            return arguments.length ? (ar[aY] = aZ, t) : ar[aY]
        }
    }

    function H(aZ) {
        function aY(a1, a0) {
            this.tgt = aZ.getTgt(a1, a0)
        }
        if (d(aZ)) {
            aZ = {
                getTgt: aZ
            }
        }
        if (aZ.baseMap) {
            aZ = A(A({}, aZ.baseMap), aZ)
        }
        aZ.map = function(a1, a0) {
            return new aY(a1, a0)
        };
        return aZ
    }

    function u(a3, aY, bc, a9, a8, bd) {
        var a4, a2, bb, a6, a0, a7, aZ, a1, a5 = a9,
            ba = "";
        if (aY === true) {
            bc = aY;
            aY = undefined
        } else {
            if (typeof aY !== O) {
                aY = undefined
            }
        }
        if (bb = this.tag) {
            a0 = this;
            a5 = a5 || a0.view;
            a6 = a5.getTmpl(bb.template || a0.tmpl);
            if (!arguments.length) {
                a3 = a5
            }
        } else {
            a6 = this
        }
        if (a6) {
            if (!a9 && a3 && a3._is === "view") {
                a5 = a3
            }
            if (a5) {
                if (a3 === a5) {
                    a3 = a5.data
                }
            }
            a7 = !a5;
            ak = ak || a7;
            if (!a5) {
                (aY = aY || {}).root = a3
            }
            if (!ak || l.useViews || a6.useViews || a5 && a5 !== Z) {
                ba = aq(a6, a3, aY, bc, a5, a8, bd, bb)
            } else {
                if (a5) {
                    aZ = a5.data;
                    a1 = a5.index;
                    a5.index = aX
                } else {
                    a5 = Z;
                    a5.data = a3;
                    a5.ctx = aY
                }
                if (at(a3) && !bc) {
                    for (a4 = 0, a2 = a3.length; a4 < a2; a4++) {
                        a5.index = a4;
                        a5.data = a3[a4];
                        ba += a6.fn(a3[a4], a5, aH)
                    }
                } else {
                    a5.data = a3;
                    ba += a6.fn(a3, a5, aH)
                }
                a5.data = aZ;
                a5.index = a1
            }
            if (a7) {
                ak = undefined
            }
        }
        return ba
    }

    function aq(a3, bh, a0, a1, a6, bj, a2, bi) {
        function bd(bk) {
            a7 = A({}, a0);
            a7[bb] = bk
        }
        var bc, ba, bf, bg, a9, a8, aZ, be, aY, bb, a7, a4, a5 = "";
        if (bi) {
            aY = bi.tagName;
            a4 = bi.tagCtx;
            a0 = a0 ? au(a0, bi.ctx) : bi.ctx;
            if (a3 === a6.content) {
                aZ = a3 !== a6.ctx._wrp ? a6.ctx._wrp : undefined
            } else {
                if (a3 !== a4.content) {
                    if (a3 === bi.template) {
                        aZ = a4.tmpl;
                        a0._wrp = a4.content
                    } else {
                        aZ = a4.content || a6.content
                    }
                } else {
                    aZ = a6.content
                }
            }
            if (a4.props.link === false) {
                a0 = a0 || {};
                a0.link = false
            }
            if (bb = a4.props.itemVar) {
                if (bb.charAt(0) !== "~") {
                    S("Use itemVar='~myItem'")
                }
                bb = bb.slice(1)
            }
        }
        if (a6) {
            a2 = a2 || a6._.onRender;
            a0 = au(a0, a6.ctx)
        }
        if (bj === true) {
            a8 = true;
            bj = 0
        }
        if (a2 && (a0 && a0.link === false || bi && bi._.noVws)) {
            a2 = undefined
        }
        be = a2;
        if (a2 === true) {
            be = undefined;
            a2 = a6._.onRender
        }
        a0 = a3.helpers ? au(a3.helpers, a0) : a0;
        a7 = a0;
        if (at(bh) && !a1) {
            bf = a8 ? a6 : (bj !== undefined && a6) || new aS(a0, "array", a6, bh, a3, bj, a2, aZ);
            if (a6 && a6._.useKey) {
                bf._.bnd = !bi || bi._.bnd && bi
            }
            if (bb) {
                bf.it = bb
            }
            bb = bf.it;
            for (bc = 0, ba = bh.length; bc < ba; bc++) {
                if (bb) {
                    bd(bh[bc])
                }
                bg = new aS(a7, "item", bf, bh[bc], a3, (bj || 0) + bc, a2, bf.content);
                a9 = a3.fn(bh[bc], bg, aH);
                a5 += bf._.onRender ? bf._.onRender(a9, bg) : a9
            }
        } else {
            if (bb) {
                bd(bh)
            }
            bf = a8 ? a6 : new aS(a7, aY || "data", a6, bh, a3, bj, a2, aZ);
            if (bi && !bi.flow) {
                bf.tag = bi;
                bi.view = bf
            }
            a5 += a3.fn(bh, bf, aH)
        }
        return be ? be(a5, bf) : a5
    }

    function ay(a0, aY, a1) {
        var aZ = a1 !== undefined ? d(a1) ? a1.call(aY.data, a0, aY) : a1 || "" : "{Error: " + (a0.message || a0) + "}";
        if (ar.onError && (a1 = ar.onError.call(aY.data, a0, a1 && aZ, aY)) !== undefined) {
            aZ = a1
        }
        return aY && !aY.linkCtx ? aT.html(aZ) : aZ
    }

    function av(aY) {
        throw new aH.Err(aY)
    }

    function S(aY) {
        av("Syntax error\n" + aY)
    }

    function y(bd, a1, aZ, bc, a6) {
        function a5(bh) {
            bh -= a2;
            if (bh) {
                ba.push(bd.substr(a2, bh).replace(aL, "\\n"))
            }
        }

        function a7(bh, bi) {
            if (bh) {
                bh += "}}";
                S((bi ? "{{" + bi + "}} block has {{/" + bh + " without {{" + bh : "Unmatched or missing {{/" + bh) + ", in template:\n" + bd)
            }
        }

        function a4(bi, bD, bk, by, bw, bp, bu, bx, bq, bB, bA, bn) {
            if (bu && bD || bq && !bk || bx && bx.slice(-1) === ":" || bB) {
                S(bi)
            }
            if (bp) {
                bw = ":";
                by = T
            }
            bq = bq || aZ && !a6;
            var bh, bz = (bD || aZ) && [
                    []
                ],
                bl = "",
                bj = "",
                br = "",
                bv = "",
                bC = "",
                bs = "",
                bm = "",
                bt = "",
                bo = !bq && !bw;
            bk = bk || (bx = bx || "#data", bw);
            a5(bn);
            a2 = bn + bi.length;
            if (bu) {
                if (be) {
                    ba.push(["*", "\n" + bx.replace(/^:/, "ret+= ").replace(F, "$1") + ";\n"])
                }
            } else {
                if (bk) {
                    if (bk === "else") {
                        if (ah.test(bx)) {
                            S('for "{{else if expr}}" use "{{else expr}}"')
                        }
                        bz = a8[8] && [
                            []
                        ];
                        a8[9] = bd.substring(a8[9], bn);
                        a8 = a0.pop();
                        ba = a8[2];
                        bo = true
                    }
                    if (bx) {
                        ad(bx.replace(aL, " "), bz, a1).replace(aw, function(bI, bF, bJ, bG, bH, bK, bE, bL) {
                            bG = "'" + bH + "':";
                            if (bE) {
                                bj += bK + ",";
                                bv += "'" + bL + "',"
                            } else {
                                if (bJ) {
                                    br += bG + "j._cp(" + bK + ',"' + bL + '",view),';
                                    bs += bG + "'" + bL + "',"
                                } else {
                                    if (bF) {
                                        bm += bK
                                    } else {
                                        if (bH === "trigger") {
                                            bt += bK
                                        }
                                        if (bH === "lateRender") {
                                            bh = 1
                                        }
                                        bl += bG + bK + ",";
                                        bC += bG + "'" + bL + "',";
                                        a9 = a9 || p.test(bH)
                                    }
                                }
                            }
                            return ""
                        }).slice(0, -1)
                    }
                    if (bz && bz[0]) {
                        bz.pop()
                    }
                    aY = [bk, by || !!bc || a9 || "", bo && [], aE(bv || (bk === ":" ? "'#data'," : ""), bC, bs), aE(bj || (bk === ":" ? "data," : ""), bl, br), bm, bt, bh, bz || 0];
                    ba.push(aY);
                    if (bo) {
                        a0.push(a8);
                        a8 = aY;
                        a8[9] = a2
                    }
                } else {
                    if (bA) {
                        a7(bA !== a8[0] && a8[0] !== "else" && bA, a8[0]);
                        a8[9] = bd.substring(a8[9], bn);
                        a8 = a0.pop()
                    }
                }
            }
            a7(!a8 && bA);
            ba = a8[2]
        }
        var bb, a3, aY, a9, bg, be = ar.allowCode || a1 && a1.allowCode || t.allowCode === true,
            bf = [],
            a2 = 0,
            a0 = [],
            ba = bf,
            a8 = [, , bf];
        if (be && a1._is) {
            a1.allowCode = be
        }
        if (aZ) {
            if (bc !== undefined) {
                bd = bd.slice(0, -bc.length - 2) + Y
            }
            bd = aA + bd + X
        }
        a7(a0[0] && a0[0][2].pop()[0]);
        bd.replace(j, a4);
        a5(bd.length);
        if (a2 = bf[bf.length - 1]) {
            a7("" + a2 !== a2 && (+a2[9] === a2[9]) && a2[0])
        }
        if (aZ) {
            a3 = K(bf, bd, aZ);
            bg = [];
            bb = bf.length;
            while (bb--) {
                bg.unshift(bf[bb][8])
            }
            o(a3, bg)
        } else {
            a3 = K(bf, a1)
        }
        return a3
    }

    function o(a1, a2) {
        var a0, a3, aZ = 0,
            aY = a2.length;
        a1.deps = [];
        a1.paths = [];
        for (; aZ < aY; aZ++) {
            a1.paths.push(a3 = a2[aZ]);
            for (a0 in a3) {
                if (a0 !== "_jsvto" && a3.hasOwnProperty(a0) && a3[a0].length && !a3[a0].skp) {
                    a1.deps = a1.deps.concat(a3[a0])
                }
            }
        }
    }

    function aE(aZ, a0, aY) {
        return [aZ.slice(0, -1), a0.slice(0, -1), aY.slice(0, -1)]
    }

    function h(aZ, aY) {
        return "\n\t" + (aY ? aY + ":{" : "") + "args:[" + aZ[0] + "]" + (aZ[1] || !aY ? ",\n\tprops:{" + aZ[1] + "}" : "") + (aZ[2] ? ",\n\tctx:{" + aZ[2] + "}" : "")
    }

    function ad(bc, bd, a3) {
        function bb(bj, bE, bl, bg, bv, bq, bm, bF, bh, br, bD, bC, by, bB, bo, bz, bk, bA, bn, bp) {
            function bw(bO, bJ, bK, bI, bP, bN, bL, bM) {
                var bH = bK === ".";
                if (bK) {
                    bv = bv.slice(bJ.length);
                    if (/^\.?constructor$/.test(bM || bv)) {
                        S(bO)
                    }
                    if (!bH) {
                        bO = (bI ? 'view.hlp("' + bI + '")' : bP ? "view" : "data") + (bM ? (bN ? "." + bN : bI ? "" : (bP ? "" : "." + bK)) + (bL || "") : (bM = bI ? "" : bP ? bN || "" : bK, ""));
                        bO = bO + (bM ? "." + bM : "");
                        bO = bJ + (bO.slice(0, 9) === "view.data" ? bO.slice(5) : bO)
                    }
                    if (bf) {
                        bt = ba === "linkTo" ? (a7 = bd._jsvto = bd._jsvto || []) : a9.bd;
                        if (bx = bH && bt[bt.length - 1]) {
                            if (bx._jsv) {
                                while (bx.sb) {
                                    bx = bx.sb
                                }
                                if (bx.bnd) {
                                    bv = "^" + bv.slice(1)
                                }
                                bx.sb = bv;
                                bx.bnd = bx.bnd || bv.charAt(0) === "^"
                            }
                        } else {
                            bt.push(bv)
                        }
                        a6[a1] = bn + (bH ? 1 : 0)
                    }
                }
                return bO
            }
            if (bg && !bF) {
                bv = bg + bv
            }
            bq = bq || "";
            bl = bl || bE || bC;
            bv = bv || bh;
            br = br || bk || "";
            var bi, bu, bt, bx, bs, bG = ")";
            if (br === "[") {
                br = "[j._sq(";
                bG = ")]"
            }
            if (bm && !a2 && !aY) {
                S(bc)
            } else {
                if (bf && bz && !a2 && !aY) {
                    if (!ba || be || a7) {
                        bi = a6[a1 - 1];
                        if (bp.length - 1 > bn - (bi || 0)) {
                            bi = bp.slice(bi, bn + bj.length);
                            if (bu !== true) {
                                bt = a7 || a0[a1 - 1].bd;
                                bx = bt[bt.length - 1];
                                if (bx && bx.prm) {
                                    while (bx.sb && bx.sb.prm) {
                                        bx = bx.sb
                                    }
                                    bs = bx.sb = {
                                        path: bx.sb,
                                        bnd: bx.bnd
                                    }
                                } else {
                                    bt.push(bs = {
                                        path: bt.pop()
                                    })
                                }
                            }
                            bz = az + ":" + bi + " onerror=''" + Y;
                            bu = a8[bz];
                            if (!bu) {
                                a8[bz] = true;
                                a8[bz] = bu = y(bz, a3, true)
                            }
                            if (bu !== true && bs) {
                                bs._jsv = bu;
                                bs.prm = a9.bd;
                                bs.bnd = bs.bnd || bs.path && bs.path.indexOf("^") >= 0
                            }
                        }
                    }
                }
                return (a2 ? (a2 = !by, (a2 ? bj : bC + '"')) : aY ? (aY = !bB, (aY ? bj : bC + '"')) : ((bl ? (a6[a1] = bn++, a9 = a0[++a1] = {
                    bd: []
                }, bl) : "") + (bA ? (a1 ? "" : (aZ = bp.slice(aZ, bn), ba ? (ba = be = a7 = false, "\b") : "\b,") + aZ + (aZ = bn + bj.length, bf && bd.push(a9.bd = []), "\b")) : bF ? (a1 && S(bc), bf && bd.pop(), ba = bv, be = bg, aZ = bn + bj.length, bf && ((bf = a9.bd = bd[ba] = []), bf.skp = !bg), bv + ":") : bv ? (bv.split("^").join(".").replace(B, bw) + (br ? (a9 = a0[++a1] = {
                    bd: []
                }, a4[a1] = bG, br) : bq)) : bq ? bq : bo ? ((bo = a4[a1] || bo, a4[a1] = false, a9 = a0[--a1], bo) + (br ? (a9 = a0[++a1], a4[a1] = bG, br) : "")) : bD ? (a4[a1] || S(bc), ",") : bE ? "" : (a2 = by, aY = bB, '"'))))
            }
        }
        var ba, a7, be, aY, a2, bf = bd && bd[0],
            a9 = {
                bd: bf
            },
            a0 = {
                0: a9
            },
            aZ = 0,
            a8 = (a3 ? a3.links : bf && (bf.links = bf.links || {})) || Z.tmpl.links,
            a1 = 0,
            a4 = {},
            a6 = {},
            a5 = (bc + (a3 ? " " : "")).replace(ae, bb);
        return !a1 && a5 || S(bc)
    }

    function K(aY, a9, a5) {
        var bw, bj, ba, bh, bn, bv, bk, a1, by, aZ, br, bf, a0, bx, bp, bc, a8, bo, a3, bi, a6, bq, bB, bl, bA, bd, bu, bb, bm, bg, a4, a7 = 0,
            be = l.useViews || a9.useViews || a9.tags || a9.templates || a9.helpers || a9.converters,
            a2 = "",
            bt = {},
            bs = aY.length;
        if ("" + a9 === a9) {
            bo = a5 ? 'data-link="' + a9.replace(aL, " ").slice(1, -1) + '"' : a9;
            a9 = 0
        } else {
            bo = a9.tmplName || "unnamed";
            if (a9.allowCode) {
                bt.allowCode = true
            }
            if (a9.debug) {
                bt.debug = true
            }
            br = a9.bnds;
            a8 = a9.tmpls
        }
        for (bw = 0; bw < bs; bw++) {
            bj = aY[bw];
            if ("" + bj === bj) {
                a2 += '\n+"' + bj + '"'
            } else {
                ba = bj[0];
                if (ba === "*") {
                    a2 += ";\n" + bj[1] + "\nret=ret"
                } else {
                    bh = bj[1];
                    a6 = !a5 && bj[2];
                    bn = h(bj[3], "params") + "}," + h(a0 = bj[4]);
                    bb = bj[5];
                    bg = bj[6];
                    a4 = bj[7];
                    bq = bj[9] && bj[9].replace(F, "$1");
                    if (bA = ba === "else") {
                        if (bf) {
                            bf.push(bj[8])
                        }
                    } else {
                        if (br && (bf = bj[8])) {
                            bf = [bf];
                            a7 = br.push(1)
                        }
                    }
                    be = be || a0[1] || a0[2] || bf || /view.(?!index)/.test(a0[0]);
                    if (bd = ba === ":") {
                        if (bh) {
                            ba = bh === T ? ">" : bh + ba
                        }
                    } else {
                        if (a6) {
                            a3 = C(bq, bt);
                            a3.tmplName = bo + "/" + ba;
                            a3.useViews = a3.useViews || be;
                            K(a6, a3);
                            be = a3.useViews;
                            a8.push(a3)
                        }
                        if (!bA) {
                            bi = ba;
                            be = be || ba && (!aM[ba] || !aM[ba].flow);
                            bl = a2;
                            a2 = ""
                        }
                        bB = aY[bw + 1];
                        bB = bB && bB[0] === "else"
                    }
                    bm = bb ? ";\ntry{\nret+=" : "\n+";
                    bx = "";
                    bp = "";
                    if (bd && (bf || bg || bh && bh !== T || a4)) {
                        bu = new Function("data,view,j,u", "// " + bo + " " + (++a7) + " " + ba + "\nreturn {" + bn + "};");
                        bu._er = bb;
                        bu._tag = ba;
                        bu._bd = !!bf;
                        bu._lr = a4;
                        if (a5) {
                            return bu
                        }
                        o(bu, bf);
                        bc = 'c("' + bh + '",view,';
                        aZ = true;
                        bx = bc + a7 + ",";
                        bp = ")"
                    }
                    a2 += (bd ? (a5 ? (bb ? "try{\n" : "") + "return " : bm) + (aZ ? (aZ = undefined, be = by = true, bc + (bu ? ((br[a7 - 1] = bu), a7) : "{" + bn + "}") + ")") : ba === ">" ? (bk = true, "h(" + a0[0] + ")") : (a1 = true, "((v=" + a0[0] + ")!=null?v:" + (a5 ? "null)" : '"")'))) : (bv = true, "\n{view:view,tmpl:" + (a6 ? a8.length : "0") + "," + bn + "},"));
                    if (bi && !bB) {
                        a2 = "[" + a2.slice(0, -1) + "]";
                        bc = 't("' + bi + '",view,this,';
                        if (a5 || bf) {
                            a2 = new Function("data,view,j,u", " // " + bo + " " + a7 + " " + bi + "\nreturn " + a2 + ";");
                            a2._er = bb;
                            a2._tag = bi;
                            if (bf) {
                                o(br[a7 - 1] = a2, bf)
                            }
                            a2._lr = a4;
                            if (a5) {
                                return a2
                            }
                            bx = bc + a7 + ",undefined,";
                            bp = ")"
                        }
                        a2 = bl + bm + bc + (a2.deps && a7 || a2) + ")";
                        bf = 0;
                        bi = 0
                    }
                    if (bb) {
                        be = true;
                        a2 += ";\n}catch(e){ret" + (a5 ? "urn " : "+=") + bx + "j._err(e,view," + bb + ")" + bp + ";}" + (a5 ? "" : "ret=ret")
                    }
                }
            }
        }
        a2 = "// " + bo + "\nvar v" + (bv ? ",t=j._tag" : "") + (by ? ",c=j._cnvt" : "") + (bk ? ",h=j._html" : "") + (a5 ? ";\n" : ',ret=""\n') + (bt.debug ? "debugger;" : "") + a2 + (a5 ? "\n" : ";\nreturn ret;");
        if (ar.debugMode !== false) {
            a2 = "try {\n" + a2 + "\n}catch(e){\nreturn j._err(e, view);\n}"
        }
        try {
            a2 = new Function("data,view,j,u", a2)
        } catch (bz) {
            S("Compiled template code:\n\n" + a2 + '\n: "' + (bz.message || bz) + '"')
        }
        if (a9) {
            a9.fn = a2;
            a9.useViews = !!be
        }
        return a2
    }

    function au(aZ, aY) {
        return aZ && aZ !== aY ? (aY ? A(A({}, aY), aZ) : aZ) : aY && A({}, aY)
    }

    function aR(aY) {
        return f[aY] || (f[aY] = "&#" + aY.charCodeAt(0) + ";")
    }

    function aV(a0) {
        var aY, a1, aZ = [];
        if (typeof a0 === O) {
            for (aY in a0) {
                a1 = a0[aY];
                if (aY !== ap && a0.hasOwnProperty(aY) && !d(a1)) {
                    aZ.push({
                        key: aY,
                        prop: a1
                    })
                }
            }
        }
        return aZ
    }

    function P(a1, a0, a2) {
        var aZ = this.jquery && (this[0] || av("Unknown template")),
            aY = aZ.getAttribute(ac);
        return u.call(aY ? aG.data(aZ)[aD] : s(aZ), a1, a0, a2)
    }

    function V(aY) {
        return aY != undefined ? Q.test(aY) && ("" + aY).replace(aa, aR) || aY : ""
    }
    aH = m.sub;
    t = m.settings;
    if (!(W || aG && aG.render)) {
        for (aJ in ao) {
            w(aJ, ao[aJ])
        }
        aT = m.converters;
        N = m.helpers;
        aM = m.tags;
        aH._tg.prototype = {
            baseApply: U,
            cvtArgs: r,
            bndArgs: n
        };
        Z = aH.topView = new aS();
        if (aG) {
            aG.fn.render = P;
            ap = aG.expando;
            if (aG.observable) {
                A(aH, aG.views.sub);
                m.map = aG.views.map
            }
        } else {
            aG = {};
            if (aQ) {
                G.jsrender = aG
            }
            aG.renderFile = aG.__express = aG.compile = function() {
                throw "Node.js: use npm jsrender, or jsrender-node.js"
            };
            aG.isFunction = function(aY) {
                return typeof aY === "function"
            };
            aG.isArray = Array.isArray || function(aY) {
                return ({}.toString).call(aY) === "[object Array]"
            };
            aH._jq = function(aY) {
                if (aY !== aG) {
                    A(aY, aG);
                    aG = aY;
                    aG.fn.render = P;
                    delete aG.jsrender;
                    ap = aG.expando
                }
            };
            aG.jsrender = k
        }
        ar = aH.settings;
        ar.allowCode = false;
        d = aG.isFunction;
        aG.render = i;
        aG.views = m;
        aG.templates = s = m.templates;
        for (ax in ar) {
            M(ax)
        }(t.debugMode = function(aY) {
            return aY === undefined ? ar.debugMode : (ar.debugMode = aY, ar.onError = aY + "" === aY ? new Function("", "return '" + aY + "';") : d(aY) ? aY : undefined, t)
        })(false);
        l = ar.advanced = {
            useViews: false,
            _jsv: false
        };
        aM({
            "if": {
                render: function(a1) {
                    var aZ = this,
                        aY = aZ.tagCtx,
                        a0 = (aZ.rendering.done || !a1 && (arguments.length || !aY.index)) ? "" : (aZ.rendering.done = true, aZ.selected = aY.index, aY.render(aY.view, true));
                    return a0
                },
                flow: true
            },
            "for": {
                render: function(a4) {
                    var a2 = !arguments.length,
                        a3, a1 = this,
                        a0 = a1.tagCtx,
                        aY = "",
                        aZ = 0;
                    if (!a1.rendering.done) {
                        a3 = a2 ? a0.view.data : a4;
                        if (a3 !== undefined) {
                            aY += a0.render(a3, a2);
                            aZ += at(a3) ? a3.length : 1
                        }
                        if (a1.rendering.done = aZ) {
                            a1.selected = a0.index
                        }
                    }
                    return aY
                },
                flow: true
            },
            props: {
                baseTag: "for",
                dataMap: H(aV),
                flow: true
            },
            include: {
                flow: true
            },
            "*": {
                render: aB,
                flow: true
            },
            ":*": {
                render: aB,
                flow: true
            },
            dbg: N.dbg = aT.dbg = J
        });
        aT({
            html: V,
            attr: V,
            url: function(aY) {
                return aY != undefined ? encodeURI("" + aY) : aY === null ? aY : ""
            }
        })
    }
    ar = aH.settings;
    at = (aG || W).isArray;
    t.delimiters("{{", "}}", "^");
    if (am) {
        W.views.sub._jq(aG)
    }
    return aG || W
}, window));