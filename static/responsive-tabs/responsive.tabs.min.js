(function(a) {
    a.fn.respTabs = function(b) {
        var c = {
            startIndex: 0,
            activeClass: "active",
            model: "tabs",
            responsive: true,
            responsiveClass: "responsive-tabs",
            fnEvent: "click",
            toggles: false,
            hidenContent: false
        };
        var b = a.extend(c, b);
        return this.each(function() {
            var n = a(this);
            var d = n.find(".tabs-list");
            var l = d.find("li");
            var g = "";
            var e = "";
            var k = true;
            switch (b.model) {
                case "tabs":
                    g = n.children().children(".tab-content");
                    break;
                case "accordions":
                    g = n.children(".accordion-content");
                    break
            }
            var h = function() {
                    n.addClass(b.responsiveClass);
                    l.each(function() {
                        var o = l.index(a(this));
                        var p = a(this).hasClass(b.activeClass) ? b.activeClass : "";
                        g.eq(o).before('<div class="accordion-handle ' + p + '"><h4>' + a(this).text() + "</h4><i></i></div>")
                    })
                },
                i = function(o) {
                    l.eq(o).addClass(b.activeClass).siblings("li").removeClass("active " + b.activeClass);
                    g.eq(o).show().siblings(".tab-content").hide();
                    if (b.responsive) {
                        e = n.children().children(".accordion-handle");
                        e.eq(o).addClass(b.activeClass).siblings(".accordion-handle").removeClass("active " + b.activeClass)
                    }
                },
                m = function(o) {
                    e = b.model == "accordions" ? n.children(".accordion-handle") : n.children().children(".accordion-handle");
                    e.eq(o).addClass(b.activeClass).siblings(".accordion-handle").removeClass("active " + b.activeClass);
                    g.eq(o).slideDown().siblings(".tab-content, .accordion-content").slideUp();
                    if (b.responsive && l.length) {
                        l.eq(o).addClass(b.activeClass).siblings("li").removeClass("active " + b.activeClass)
                    }
                },
                j = function(o) {
                    e = n.find(".accordion-handle");
                    if (k) {
                        e.eq(o).addClass(b.activeClass).siblings(".accordion-handle").removeClass("active " + b.activeClass);
                        g.eq(o).slideDown().siblings(".tab-content, .accordion-content").slideUp("fast");
                        k = false
                    } else {
                        if (g.eq(o).is(":hidden")) {
                            g.eq(o).slideDown();
                            e.eq(o).addClass(b.activeClass)
                        } else {
                            g.eq(o).slideUp();
                            e.eq(o).removeClass("active " + b.activeClass)
                        }
                    }
                },
                f = function() {
                    g.hide();
                    e.removeClass("active " + b.activeClass)
                };
            _init = function() {
                if (b.model == "tabs") {
                    if (b.responsive) {
                        h()
                    }
                    i(b.startIndex);
                    m(b.startIndex)
                } else {
                    if (b.toggles) {
                        j(b.startIndex)
                    } else {
                        m(b.startIndex)
                    }
                    if (b.hidenContent) {
                        f()
                    }
                }
            };
            _init();
            l.bind(b.fnEvent, function() {
                var o = l.index(a(this));
                i(o)
            });
            e.bind("click", function() {
                var o = e.index(a(this));
                if (b.toggles && b.model == "accordions") {
                    j(o)
                } else {
                    m(o)
                }
            })
        })
    }
})(jQuery);