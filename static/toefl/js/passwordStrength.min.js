jQuery.fn.passwordStrength = function(c, b) {
    var e = "weak";
    var d = {
        "text-align": "left",
        "list-style": "none",
        margin: "0px",
        padding: "10px 0px",
        "margin-top": "-3px"
    };
    var a = {
        "float": "left",
        border: "1px #CCCCCC solid",
        width: "50px",
        "text-align": "center",
        "font-size": "12px",
        color: "#666666"
    };
    if (b == "zh") {
        c.html("<ul class='check_password'><li id='strength_W' class='check_password_li'>弱</li><li id='strength_A' class='check_password_li' >中</li><li id='strength_S' class='check_password_li' >强</li></ul>")
    } else {
        c.html("<ul class='check_password'><li id='strength_W' class='check_password_li'>Weak</li><li id='strength_A' class='check_password_li' >Average</li><li id='strength_S' class='check_password_li' >Secure</li></ul>")
    }
    $(".check_password").css(d);
    $(".check_password_li").css(a);
    $("#strength_W").css({
        "background-color": "#FFD099",
        "font-weight": "bolder"
    });
    $("#strength_A").css({
        "background-color": "#ffffff",
        "font-weight": "normal"
    });
    $("#strength_S").css({
        "background-color": "#ffffff",
        "font-weight": "normal"
    });
    $.passwordStrength = e;
    $(this).on("keyup", function() {
        var h = $.trim($(this).val());
        var g = /[0-9]/;
        var f = /[a-z]/;
        var i = /[A-Z]/;
        var k = /[.,!@#$%^&*()}{:<>|]/;
        var j = 0;
        if (g.test(h)) {
            j++
        }
        if (f.test(h)) {
            j++
        }
        if (i.test(h)) {
            j = j + 3
        }
        if (k.test(h)) {
            j = j + 5
        }
        var l = j * h.length;
        switch (true) {
            case l < 8:
                W_color = "#FFD099";
                A_color = S_color = "#ffffff";
                W_weight = "bolder";
                A_weight = S_weight = "normal";
                e = "weak";
                break;
            case l < 16:
                W_color = A_color = "#FFD099";
                S_color = "#ffffff";
                W_weight = S_weight = "normal";
                A_weight = "bolder";
                e = "average";
                break;
            default:
                W_color = A_color = S_color = "#FFD099";
                S_weight = "bolder";
                w_weight = A_weight = "normal";
                e = "secure"
        }
        $("#strength_W").css({
            "background-color": W_color,
            "font-weight": W_weight
        });
        $("#strength_A").css({
            "background-color": A_color,
            "font-weight": A_weight
        });
        $("#strength_S").css({
            "background-color": S_color,
            "font-weight": S_weight
        });
        $.passwordStrength = e
    })
};