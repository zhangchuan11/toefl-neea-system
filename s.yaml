edition: 3.0.0
name: toefl-neea-app
access: tuofu

vars:
  region: cn-hangzhou
  serviceName: toefl-neea-service

resources:
  toefl_neea_function:
    component: fc3
    props:
      region: ${vars.region}
      functionName: toefl-neea-function
      description: 托福考试报名系统
      runtime: nodejs18
      code: ./
      handler: index.handler
      memorySize: 512
      timeout: 60
      instanceConcurrency: 10
      cpu: 0.35
      diskSize: 512
      
      # 环境变量
      environmentVariables:
        NODE_ENV: production
        SESSION_SECRET: toefl-neea-secret-key-2024-fc
        TZ: Asia/Shanghai

      # HTTP 触发器配置
      triggers:
        - triggerName: httpTrigger
          triggerType: http
          description: HTTP 触发器
          qualifier: LATEST
          triggerConfig:
            authType: anonymous
            disableURLInternet: false
            methods:
              - GET
              - POST
              - PUT
              - DELETE
              - HEAD
              - OPTIONS
            # 不设置默认的content-disposition
            # disableContentDisposition: true

